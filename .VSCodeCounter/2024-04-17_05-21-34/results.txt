Date : 2024-04-17 05:21:34
Directory : /home/v-chaofanlin/LLMOS-Parrot/parrot
Total : 114 files,  8338 codes, 3097 comments, 2912 blanks, all 14347 lines

Languages
+----------+------------+------------+------------+------------+------------+
| language | files      | code       | comment    | blank      | total      |
+----------+------------+------------+------------+------------+------------+
| py       |        114 |      8,338 |      3,097 |      2,912 |     14,347 |
+----------+------------+------------+------------+------------+------------+

Directories
+------------------------------------------------------------------------------------------------+------------+------------+------------+------------+------------+
| path                                                                                           | files      | code       | comment    | blank      | total      |
+------------------------------------------------------------------------------------------------+------------+------------+------------+------------+------------+
| .                                                                                              |        114 |      8,338 |      3,097 |      2,912 |     14,347 |
| . (Files)                                                                                      |          4 |         63 |         33 |         38 |        134 |
| engine                                                                                         |         41 |      3,580 |        811 |      1,014 |      5,405 |
| engine (Files)                                                                                 |          8 |        563 |        187 |        226 |        976 |
| engine/builtin                                                                                 |         25 |      2,649 |        525 |        646 |      3,820 |
| engine/builtin (Files)                                                                         |          8 |      1,038 |        201 |        273 |      1,512 |
| engine/builtin/kernels                                                                         |         11 |      1,127 |        198 |        247 |      1,572 |
| engine/builtin/kernels (Files)                                                                 |          6 |        959 |        162 |        194 |      1,315 |
| engine/builtin/kernels/vllm                                                                    |          5 |        168 |         36 |         53 |        257 |
| engine/builtin/models                                                                          |          6 |        484 |        126 |        126 |        736 |
| engine/context                                                                                 |          5 |        197 |         62 |         87 |        346 |
| engine/openai                                                                                  |          3 |        171 |         37 |         55 |        263 |
| frontend                                                                                       |         15 |        920 |        280 |        350 |      1,550 |
| frontend/pfunc                                                                                 |         15 |        920 |        280 |        350 |      1,550 |
| frontend/pfunc (Files)                                                                         |          7 |        725 |        226 |        268 |      1,219 |
| frontend/pfunc/transforms                                                                      |          8 |        195 |         54 |         82 |        331 |
| protocol                                                                                       |          8 |        505 |         97 |        143 |        745 |
| protocol (Files)                                                                               |          3 |         77 |         15 |         30 |        122 |
| protocol/internal                                                                              |          3 |        231 |         58 |         64 |        353 |
| protocol/public                                                                                |          2 |        197 |         24 |         49 |        270 |
| serve                                                                                          |         30 |      2,334 |        957 |      1,029 |      4,320 |
| serve (Files)                                                                                  |         10 |        964 |        469 |        424 |      1,857 |
| serve/backend_repr                                                                             |          4 |        180 |         63 |         97 |        340 |
| serve/graph                                                                                    |          8 |        695 |        241 |        314 |      1,250 |
| serve/scheduler                                                                                |          5 |        267 |         91 |        112 |        470 |
| serve/session                                                                                  |          3 |        228 |         93 |         82 |        403 |
| testing                                                                                        |          9 |        641 |        875 |        231 |      1,747 |
| utils                                                                                          |          7 |        295 |         44 |        107 |        446 |
+------------------------------------------------------------------------------------------------+------------+------------+------------+------------+------------+

Files
+------------------------------------------------------------------------------------------------+----------+------------+------------+------------+------------+
| filename                                                                                       | language | code       | comment    | blank      | total      |
+------------------------------------------------------------------------------------------------+----------+------------+------------+------------+------------+
| /home/v-chaofanlin/LLMOS-Parrot/parrot/__init__.py                                             | py       |          2 |          4 |          5 |         11 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/constants.py                                            | py       |         22 |         11 |          9 |         42 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/__init__.py                                      | py       |          0 |          8 |          3 |         11 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/__init__.py                              | py       |          0 |          0 |          1 |          1 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/attn_func.py                             | py       |        529 |         96 |        113 |        738 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/builtin_engine.py                        | py       |        147 |         18 |         36 |        201 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/builtin_runner.py                        | py       |        141 |         18 |         41 |        200 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/iter_state.py                            | py       |         33 |         15 |         13 |         61 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/__init__.py                      | py       |          9 |          3 |          5 |         17 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/flash_attention_with_context.py  | py       |         24 |         25 |         12 |         61 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/rms_norm.py                      | py       |         67 |         19 |         14 |        100 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/rotary_embedding.py              | py       |        129 |         23 |         23 |        175 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/shared_flash_decoding.py         | py       |        378 |         40 |         53 |        471 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/tokens_moving.py                 | py       |        352 |         52 |         87 |        491 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/vllm/__init__.py                 | py       |          4 |          5 |          4 |         13 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/vllm/paged_attention.py          | py       |         84 |         24 |         27 |        135 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/vllm/reshape_and_cache.py        | py       |         54 |          2 |         10 |         66 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/vllm/rms_norm.py                 | py       |         10 |          2 |          5 |         17 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/kernels/vllm/rotary_embed.py             | py       |         16 |          3 |          7 |         26 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/mem.py                                   | py       |        130 |         37 |         40 |        207 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/mem_layout.py                            | py       |         12 |          3 |          8 |         23 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/model_instantiation.py                   | py       |         46 |         14 |         21 |         81 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/models/__init__.py                       | py       |          6 |          2 |          5 |         13 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/models/llama.py                          | py       |        173 |         51 |         40 |        264 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/models/model_utils.py                    | py       |         12 |          3 |          7 |         22 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/models/opt.py                            | py       |        224 |         48 |         48 |        320 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/models/sampler.py                        | py       |         39 |         12 |         16 |         67 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/builtin/models/weight_utils.py                   | py       |         30 |         10 |         10 |         50 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/config.py                                        | py       |         94 |         30 |         41 |        165 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/context/__init__.py                              | py       |          0 |          0 |          1 |          1 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/context/block_context.py                         | py       |         75 |         26 |         35 |        136 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/context/context_manager.py                       | py       |         28 |         15 |         13 |         56 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/context/low_level_context.py                     | py       |         32 |         11 |         18 |         61 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/context/text_context.py                          | py       |         62 |         10 |         20 |         92 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/engine_creator.py                                | py       |         30 |         14 |         15 |         59 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/engine_scheduler.py                              | py       |        119 |         48 |         53 |        220 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/http_server.py                                   | py       |        146 |         10 |         41 |        197 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/latency_analyzer.py                              | py       |         13 |          6 |         14 |         33 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/llm_engine.py                                    | py       |         80 |         53 |         35 |        168 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/openai/__init__.py                               | py       |          0 |          0 |          1 |          1 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/openai/api_endpoint.py                           | py       |          8 |          8 |          8 |         24 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/openai/openai_engine.py                          | py       |        163 |         29 |         46 |        238 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/engine/primitive_job.py                                 | py       |         81 |         18 |         24 |        123 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/exceptions.py                                           | py       |         13 |         10 |         15 |         38 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/__init__.py                              | py       |          6 |          9 |          7 |         22 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/function.py                              | py       |        257 |         82 |         96 |        435 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/function_body.py                         | py       |         30 |         10 |         21 |         61 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/interface.py                             | py       |        133 |         27 |         43 |        203 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/perf_criteria.py                         | py       |          4 |          2 |          2 |          8 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/semantic_variable.py                     | py       |         79 |         11 |         31 |        121 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/__init__.py                   | py       |          0 |          0 |          1 |          1 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/body_reorder.py               | py       |          0 |          3 |          3 |          6 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/conversation_template.py      | py       |         95 |         21 |         22 |        138 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/few_shots_example_inserter.py | py       |          0 |          3 |          2 |          5 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/func_mutator.py               | py       |         48 |         14 |         18 |         80 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/prompt_compressor.py          | py       |          0 |          3 |          2 |          5 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/prompt_formatter.py           | py       |         43 |          6 |         24 |         73 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/transforms/sequential.py                 | py       |          9 |          4 |         10 |         23 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/frontend/pfunc/vm.py                                    | py       |        216 |         85 |         68 |        369 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/__init__.py                                    | py       |          0 |          5 |          3 |          8 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/base_response.py                               | py       |         14 |          6 |         11 |         31 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/http_utils.py                                  | py       |         63 |          4 |         16 |         83 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/internal/layer_apis.py                         | py       |         83 |         21 |         35 |        139 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/internal/primitive_request.py                  | py       |        125 |         15 |         20 |        160 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/internal/runtime_info.py                       | py       |         23 |         22 |          9 |         54 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/public/api_version.py                          | py       |          1 |          2 |          2 |          5 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/protocol/public/apis.py                                 | py       |        196 |         22 |         47 |        265 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/sampling_config.py                                      | py       |         26 |          8 |          9 |         43 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/__init__.py                                       | py       |          0 |          5 |          2 |          7 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/backend_repr/__init__.py                          | py       |          3 |          5 |          3 |         11 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/backend_repr/context.py                           | py       |         43 |         19 |         15 |         77 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/backend_repr/engine.py                            | py       |         99 |         29 |         59 |        187 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/backend_repr/model.py                             | py       |         35 |         10 |         20 |         65 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/config.py                                         | py       |         17 |         13 |         10 |         40 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/context_manager.py                                | py       |        190 |         96 |         84 |        370 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/core.py                                           | py       |        150 |        119 |         74 |        343 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/engine_manager.py                                 | py       |         88 |         48 |         47 |        183 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/__init__.py                                 | py       |          6 |          6 |          3 |         15 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/graph.py                                    | py       |        259 |         66 |         90 |        415 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/graph_traverse.py                           | py       |         32 |         22 |         17 |         71 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/nodes.py                                    | py       |        153 |         36 |         70 |        259 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/perf_criteria.py                            | py       |         17 |          8 |         12 |         37 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/request.py                                  | py       |        136 |         61 |         71 |        268 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/semantic_variable.py                        | py       |         46 |         33 |         27 |        106 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/graph/visualize_utils.py                          | py       |         46 |          9 |         24 |         79 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/http_server.py                                    | py       |        168 |         17 |         56 |        241 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/prefix_matcher.py                                 | py       |         38 |         31 |         21 |         90 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/scheduler/__init__.py                             | py       |          3 |          2 |          3 |          8 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/scheduler/completion_task.py                      | py       |         67 |         16 |         30 |        113 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/scheduler/global_scheduler.py                     | py       |        149 |         46 |         51 |        246 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/scheduler/schedule_annotation.py                  | py       |          6 |          9 |          8 |         23 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/scheduler/task_creator.py                         | py       |         42 |         18 |         20 |         80 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/session/__init__.py                               | py       |          0 |          0 |          1 |          1 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/session/graph_executor.py                         | py       |        144 |         28 |         38 |        210 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/session/session.py                                | py       |         84 |         65 |         43 |        192 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/session_manager.py                                | py       |         74 |         44 |         36 |        154 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/tokenizer_wrapper.py                              | py       |         44 |         17 |         21 |         82 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/serve/variable_manager.py                               | py       |        195 |         79 |         73 |        347 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/__init__.py                                     | py       |          0 |          3 |          2 |          5 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/fake_core_server.py                             | py       |        100 |          4 |         39 |        143 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/fake_engine_server.py                           | py       |        164 |         16 |         60 |        240 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/get_configs.py                                  | py       |          7 |         10 |          8 |         25 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/latency_simulator.py                            | py       |         14 |        805 |         11 |        830 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/localhost_server_daemon.py                      | py       |        126 |         12 |         49 |        187 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/model_runner_test_template.py                   | py       |        158 |          6 |         30 |        194 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/multiproc_manager.py                            | py       |         25 |          7 |         15 |         47 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/testing/vllm_runner.py                                  | py       |         47 |         12 |         17 |         76 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/__init__.py                                       | py       |         12 |          2 |          7 |         21 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/async_utils.py                                    | py       |         21 |          4 |          9 |         34 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/gpu_mem_track.py                                  | py       |        123 |         14 |         19 |        156 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/logging.py                                        | py       |         47 |          4 |         24 |         75 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/misc.py                                           | py       |         36 |         11 |         20 |         67 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/profile.py                                        | py       |         33 |          3 |         13 |         49 |
| /home/v-chaofanlin/LLMOS-Parrot/parrot/utils/recycle_pool.py                                   | py       |         23 |          6 |         15 |         44 |
| Total                                                                                          |          |      8,338 |      3,097 |      2,912 |     14,347 |
+------------------------------------------------------------------------------------------------+----------+------------+------------+------------+------------+